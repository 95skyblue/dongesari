<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "admin">
	
	
	<!-- 관리자 전체 조회 -->
	<select id="getAllAdmins" resultType="adminVO">
	    SELECT * FROM ADMIN
	</select>
	
	<!-- 관리자 한 명 상세 조회 -->
	<select id="getAdminById" parameterType="string" resultType="adminVO">
		SELECT * FROM ADMIN WHERE "adm_login_id" = #{admId}
	 
	</select>
	
	
	<!-- 관리자 추가 -->
	<insert id="insertAdmin" parameterType="adminVO">
	  <selectKey keyProperty="admId" resultType="String" order="BEFORE">
	    SELECT 'adm' || ADMIN_SEQ.NEXTVAL FROM dual
	  </selectKey>
	
	  INSERT INTO admin (
	    "adm_id",
	    "adm_login_id",
	    "adm_pw",
	    "adm_name",
	    "rsdnt_num"
	  ) VALUES (
	    #{admId},
	    #{admLoginid},
	    #{admPw},
	    #{admName},
	    #{rsdntNum}
	  )
	</insert>
	
	<!-- 관리자 삭제 -->
	<delete id="deleteAdmin" parameterType="string">
		DELETE FROM ADMIN WHERE "adm_id" = #{admId}
	</delete>
	
	
</mapper>